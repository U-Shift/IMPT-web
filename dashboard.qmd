---
title: "Dashboard"
format: dashboard
draft: true
css: dashboard.css
---

```{ojs, Imports}
//| output: false

require("leaflet");
```


```{ojs, Database}
//| output: false

MAP_DARK = 'https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}{r}.png';
MAP_LIGHT = 'https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png';
```

# Sidebar {.sidebar}

```{ojs, Sidebar controlls}
viewof STATE_LIGHTMODE = Inputs.button("ðŸŒ“ Change color scheme", {value: true, reduce: (light) => {
   L.tileLayer(light ? MAP_DARK : MAP_LIGHT).addTo(STATE_MAP);
   return !light;
}});
```


# Map
```{ojs, Map div}
//| output: true
div = document.createElement("div");
```

```{ojs, Map set up}
//| output: false

// Map library kick-off
div.style = "height: 100%;width: 100%; min-height: 400px;";
STATE_MAP = L.map(div, {
  // Map settings
  zoomControl: false // Remove default zoom on top-left corner to avoid conflict with sidebar button
}).setView([38.7169, -9.1399], 11);

// Map base layer
L.tileLayer("https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png", {
  attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'
}).addTo(STATE_MAP);
  
// Map controls
L.control.zoom({
    position: 'bottomleft'
}).addTo(STATE_MAP);
```


# Data
